<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.com"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="template" lang="en">
<head>
    <meta charset="utf-8"/>
    <title>BookList</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</head>

<body>
    <div layout:fragment="content" class="container">

        <div class="p-3 mb-2 bg-success text-white" th:if="${param.success}">Book added with success</div>


        <!--<table class="table table-striped">
            <thead>
            <tr>
                <th>Book Name</th>
                <th>Book Writer</th>
                <th>Book Categorie</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="book:${BookList}" >
                <img th:src="'data:image/jpeg;base64,' + ${book.imgP}" alt="BookImage">
                <td th:text="${book.getName()}"></td>

                <td th:text="${book.writer.getName()}"></td>
                <td th:each="categorie:${book.categories}">
                  <li th:text="${categorie.getName()}"></li>
                </td>
                <td><a th:href="@{deleteBook(id=${book.getId()})}"><i class="bi bi-trash3"></i></a></td>
                <td><a th:href="@{editBook(id=${book.getId()})}"><i class="bi bi-pencil-square"></i></a></td>
           </tr>
            </tbody>

        </table><a href="/addBook" class="btn btn-info">Add a new Book</a>-->

        <!------------------------------------------------------------------------
        <div class="grid-item product post-4171 type-product status-publish has-post-thumbnail product_cat-actions product_cat-best-seller product_tag-adventure product_tag-battle  outofstock shipping-taxable purchasable product-type-simple">
            <div class="product__inner" th:each="book:${BookList}">

                <figure class="product__image">

                    <span class="intrinsic-ratio" style="padding-bottom:136.9696969697%">
                        <img th:src="'data:image/*;base64,' + ${book.imgP}" alt="BookImage" height="302" >
                    </span>

                    <div class="product__action">
                        <a rel="nofollow" th:href="@{detailBook(id=${book.getId()})}" data-quantity="1"  data-product_sku="JCK61326" class="button product_type_simple">
                            <i class="simple-icon-bag"></i><i class="dripicons-plus"></i>
                            <span class="button-label">Read more</span>
                        </a>
                    </div>
                </figure>

                <div class="product__detail">
                    <h3 class="product__title" th:text="${book.getName()}"></h3>

                    <div class="product__price"><span class="woocommerce-Price-amount amount">
                        <span class="woocommerce-Price-currencySymbol"><a th:href="@{editBook(id=${book.getId()})}"><i class="bi bi-pencil-square"></i></a></span>
                    </span></div>
                    <div class="product__price"><span class="woocommerce-Price-amount amount">
                        <span class="woocommerce-Price-currencySymbol"><a th:href="@{deleteBook(id=${book.getId()})}"><i class="bi bi-trash3"></i></a></span>
                    </span></div>


                </div>
            </div>
            <div class="product__price"><span class="woocommerce-Price-amount amount"><bdi>
                        <span class="woocommerce-Price-currencySymbol"><a href="/addBook" class="btn btn-info">Add a new Book</a></span>
            </div>

            <div class="container" >
                <ul class="nav nav-pills">
                    <li class="nav-item me-2" th:each="p, stat: ${pages}">
                        <a th:class="${stat.index} == ${page} ? 'btn btn-primary' : 'btn btn-outline-primary'"
                           th:text="${stat.index}" th:href="@{BookList(page=${stat.index},search=${keyword})}"></a>
                    </li>
                </ul>
            </div>

        </div>
    </div>----------------------->
        <!-- books section -->

        <section class="furniture_section layout_padding">
            <div class="container">
                <div class="heading_container">
                    <h2>
                        Our BookList
                    </h2>
                    <p>
                        B-SHOP, where books come alive! Dive into our diverse collection curated with passion and purpose.                </p>
                </div>
                <div class="row">
                    <div class="col-md-6 col-lg-4" th:each="book:${BookList}">
                        <div class="box">
                            <div class="img-box">
                                <img th:src="'data:image/jpeg;base64,' + ${book.imgP}" alt="BookImage" height="302" >
                            </div>
                            <div class="detail-box">
                                <h5 class="product__title" th:text="${book.getName()}"></h5>
                                <div class="price_box">
                                    <a th:href="@{detailBook(id=${book.getId()})}">
                                        <h5>Detail View</h5>
                                    </a>
                                </div>
                                <div class="price_box">
                                    <a  th:if="${#authorization.expression('hasRole(''ADMIN'')')}" th:href="@{deleteBook(id=${book.getId()})}"><i class="bi bi-trash3"></i></a>
                                    <a  th:if="${#authorization.expression('hasRole(''ADMIN'')')}" th:href="@{editBook(id=${book.getId()})}"><i class="bi bi-pencil-square"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <a th:if="${#authorization.expression('hasRole(''ADMIN'')')}" href="/addBook" class="btn btn-info">Add a new Book</a>
        <div class="container" >
            <ul class="nav nav-pills">
                <li class="nav-item me-2" th:each="p, stat: ${pages}">
                    <a th:class="${stat.index} == ${page} ? 'btn btn-primary' : 'btn btn-outline-primary'"
                       th:text="${stat.index}" th:href="@{BookList(page=${stat.index},search=${keyword})}"></a>
                </li>
            </ul>
        </div>

        <!-- end book section -->

    </div>
</body>
</html>
